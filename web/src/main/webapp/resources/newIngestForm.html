<div class="col-md-9 right-column" ng-controller="NewIngestCtrl" >
	<h1 translate="INGEST_FORM.HEADER"></h1>
    <p translate="INGEST_FORM.SUBHEADER"></p>
    
    <h2 translate="INGEST_FORM.SOURCE_REPOSITORY"></h2>
    <form ng-submit="step2()">
       
        <div class="form-group col-md-7">
            <label for="typeOfInstance" translate="INGEST_FORM.TYPE_OF_INSTANCE"></label>
            <select id="typeOfInstance" class="form-control" ng-model="ingest.typeOfInstance" ng-options="item.value as ('INGEST_FORM.' + item.label | translate) for item in typeOfInstanceList"></select>
        </div>
        <div ng-switch on="ingest.typeOfInstance"  id="fagment">
            <div ng-switch-when="solr" ng-animate="{enter:'animated fadeIn', leave:'animated fadeOut'}">
                <div class="form-group col-md-7">
                    <label for="catalogOfServices" translate="INGEST_FORM.CATALOG_OF_SERVICES"></label>
                    <select id="catalogOfServices" ng-model="ingest.catalogOfServices" class="form-control col-md-6"
                            ng-options="item.key as item.value for item in customRepositories[ingest.typeOfInstance]"></select>
                </div>

                <div class="form-group col-md-9">
                    <label for="solrUrl" translate="INGEST_FORM.SOLR_URL"></label>
                    <input type="text" id="solrUrl" ng-model="ingest.solrUrl" class="form-control"></input>
                </div>
                <div class="clearfix"></div>

                <div class="custom-panel">
                    <div class="custom-panel-heading collapsed" data-toggle="collapse"
                        data-target="#collapseSorlSearchCriteria">
                        <h2>
                            <span translate="INGEST_FORM.SOLR_SEARCH_CRITERIA"></span> 
                            <a tooltip='{{"INGEST_FORM.SOLR_SEARCH_CRITERIA_TOOLTIP" | translate}}'><span
                                class="glyphicon glyphicon-question-sign black"></span></a> <span
                                class="glyphicon glyphicon-chevron-up pull-right black"></span>
                        </h2>
                    </div>
                    <div class="custom-panel-body collapse" id="collapseSorlSearchCriteria">
                        <div class="form-group">
                            <label translate="INGEST_FORM.EXTENT"></label>
                            <button type="button" class="btn btn-default">
                                <span class="glyphicon glyphicon-globe"></span>
                            </button> 
                            <a tooltip='{{ "INGEST_FORM.EXTENT_TOOLTIP" | translate }}'><span
                                class="glyphicon glyphicon-question-sign black"></span></a>
                            <input type="hidden" ng-model="ingest.extent" />
                        </div>

                        <div class="form-group col-md-9">
                           <label for="themeKeyword" translate="INGEST_FORM.THEME_KEYWORD" ></label> <a 
                                tooltip='{{ "INGEST_FORM.THEME_KEYWORD_TOOLTIP" | translate }}' ><span
                                class="glyphicon glyphicon-question-sign black"></span></a> 
                            <input class="form-control" id="themeKeyword"
                                ng-model="ingest.themeKeyword" ></input>
                        </div>

                        <div class="form-group col-md-9">
                            <label for="placeKeyword" translate="INGEST_FORM.PLACE_KEYWORD"></label> <a 
                                tooltip'{{"INGEST_FORM.PLACE_KEYWORD" | translate}'><span
                                class="glyphicon glyphicon-question-sign black"></span></a>
                            <input type="text" class="form-control" id="placeKeyword"
                                ng-model="ingest.placeKeyword" ></input>
                        </div>

                        <div class="form-group col-md-7">
                            <label for=topic translate="INGEST_FORM.TOPIC"></label> <a 
                                tooltip='{{ "INGEST_FORM.TOPIC_TOOLTIP" | translate }}'><span
                                class="glyphicon glyphicon-question-sign black"></span></a>
                            <select class="form-control" id="topic" ng-model="ingest.topic" 
                                ng-options="item as ('INGEST_FORM.TOPIC_OPT_' + item | translate ) for item in topicList">
                                <option value="" translate="INGEST_FORM.TOPIC_OPT_NONE"></option>
                            </select>
                        </div>
                        <div class="clearfix"></div>

                        <div class="form-group">
                            <label translate="INGEST_FORM.DATE_RANGE_CONTENT"></label> <a
                                tooltip='{{ "INGEST_FORM.DATE_RANGE_CONTENT_TOOLTIP" | translate }}'><span
                                class="glyphicon glyphicon-question-sign black"></span></a>
                            <div class="row no-margin">
                                <div class='input-group date col-md-4' id='rangeFrom' ng-model="ingest.rangeFrom" datetimepicker>
                                    <input type="text" class="form-control" ></input>
                                    <span class="input-group-addon"><span
                                        class="glyphicon glyphicon-calendar"></span> </span>
                                </div> <span 
                                    class="col-md-1 text-center" translate="INGEST_FORM.TO"></span> <div 
                                        class='input-group date col-md-4' id='rangeTo' ng-model="ingest.rangeTo" datetimepicker>
                                    <input type="text" class="form-control"  ></input>
                                    <span class="input-group-addon"><span
                                        class="glyphicon glyphicon-calendar"></span></span>
                                </div>
                            </div>
                        </div>

                        <div class="form-group col-md-9">
                            <label for="originator" translate="INGEST_FORM.ORIGINATOR"></label> <a 
                                tooltip='{{ "INGEST_FORM.ORIGINATOR_TOOLTIP" | translate }}'><span
                                class="glyphicon glyphicon-question-sign black"></span></a>
                            <input class="form-control" id="originator" ng-model="ingest.originator" ></input>
                        </div>

                        <div class="form-group multiselect col-md-7">
                            <label for="dataType" translate="INGEST_FORM.DATA_TYPE"></label> <a
                                tooltip='{{ "INGEST_FORM.DATA_TYPE_TOOLTIP" | translate }}'><span
                                class="glyphicon glyphicon-question-sign black"></span></a>
                            <select ng-model="ingest.dataTypes" multiple="multiple" id="dataType"
                                class="form-control btn-block" ng-options="('INGEST_FORM.DATA_TYPE_OPT_' + item | translate) for item in dataTypeList" data-placeholder="'INGEST_FORM.DATA_TYPE_PLACEHOLDER' | translate" multiselect-dropdown >
                        
                            </select>
                        </div>

                        <div class="form-group multiselect col-md-7">
                            <label for="dataRepository" translate="INGEST_FORM.DATA_REPOSITORY"></label> <a
                                tooltip='{{ "INGEST_FORM.DATA_REPOSITORY_TOOLTIP" | translate }}'><span
                                class="glyphicon glyphicon-question-sign black"></span></a>
                            <select class="form-control" id="dataRepository" ng-model="ingest.dataRepositories"
                                multiple="multiple" ng-options="item.id as item.name for item in dataRepositoryList" 
                                data-placeholder="'INGEST_FORM.DATA_REPOSITORY_PLACEHOLDER' | translate" multiselect-dropdown>
                            </select>
                        </div>
                        <div class="clearfix"></div>

                        <div class="form-group">
                            <div class="col-md-12 no-left-padding">
                                <div class="checkbox">
                                    <label for="excludeRestricted">
                                         <input type="checkbox" ng-model="ingest.excludeRestricted" id="excludeRestricted"></input>

                                        {{"INGEST_FORM.EXCLUDE_RESTRICTED" | translate }}
                                    </label> <a tooltip='{{ "INGEST_FORM.EXCLUDE_RESTRICTED_TOOLTIP" | translate }}'><span
                                        class="glyphicon glyphicon-question-sign black"></span></a>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label translate="INGEST_FORM.DATE_RANGE_SOLR"></label> <a
                                tooltip="{{ 'INGEST_FORM.DATE_RANGE_SOLR_TOOLTOP' | translate}}"><span
                                class="glyphicon glyphicon-question-sign black"></span></a>
                            <div class="row no-margin">
                                <div class='input-group date col-md-4' id='rangeSolrFrom'  ng-model="ingest.rangeSolrFrom" datetimepicker>
                                    <input  type="text" class="form-control"></input> <span
                                        class="input-group-addon"><span
                                        class="glyphicon glyphicon-calendar"></span> </span>
                                </div>
                                <span class="col-md-1 text-center" translate="INGEST_FORM.TO"></span>
                                <div class='input-group date col-md-4' id='rangeSolrTo' ng-model="ingest.rangeSolrTo" datetimepicker>
                                    <input type="text" class="form-control"></input><span
                                        class="input-group-addon"><span
                                        class="glyphicon glyphicon-calendar"></span> </span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div> <!-- //swich solr-->
            <div ng-switch-when="geonetwork" ng-animate="{enter:'animated fadeIn', leave:'animated fadeOut'}">
                <div class="form-group col-md-9">
                    <label for="geonetworkUrl" translate="INGEST_FORM.GEONETWORK_URL"></label>
                    <input type="text" id="geonetworkUrl" ng-model="ingest.geonetworkUrl" class="form-control"></input>
                </div>

                <div class="clearfix"></div>
                <div class="form-group multiselect col-md-7">
                    <label for="dataRepositoryGN" translate="INGEST_FORM.DATA_REPOSITORY_NAME"></label> 
                    <select class="form-control" id="dataRepositoryGN" ng-model="ingest.dataRepositoriesGN"
                        multiple="multiple" ng-options="item.key as item.value for item in customRepositories[ingest.typeOfInstance]" 
                        data-placeholder="'INGEST_FORM.DATA_REPOSITORY_NAME_PLACEHOLDER' | translate" multiselect-dropdown>
                    </select>
                </div>
                <div class="clearfix"></div>

                <div class="custom-panel">
                    <div class="custom-panel-heading collapsed" data-toggle="collapse"
                        data-target="#collapseSearchCriteriaGN">
                        <h2>
                            {{ "INGEST_FORM.GN_SEARCH_CRITERIA" | translate}}
                            <a tooltip='{{ "INGEST_FORM.GN_SEARCH_CRITERIA_TOOLTIP" | translate}}'><span
                                class="glyphicon glyphicon-question-sign black"></span></a> <span
                                class="glyphicon glyphicon-chevron-up pull-right black"></span>
                        </h2>
                    </div>
                    <div class="custom-panel-body collapse" id="collapseSearchCriteriaGN">
                        <div class="form-group col-md-9">
                            <label for="gnTitle" translate="INGEST_FORM.GN_TITLE"></label> <a
                                tooltip='{{ "INGEST_FORM.GN_TITLE_TOOLTIP" | translate}}'><span
                                class="glyphicon glyphicon-question-sign black"></span></a> 
                                <input
                                class="form-control" id="gnTitle" ng-model="ingest.gnTitle" ></input>
                        </div>
                    </div>

                    <div class="form-group col-md-9">
                        <label for="gnKeyword" translate="INGEST_FORM.GN_KEYWORD"></label> <a 
                            tooltip='{{ "INGEST_FORM.GN_KEYWORD_TOOLTIP" | translate}}'><span
                            class="glyphicon glyphicon-question-sign black"></span></a> 
                            <input class="form-control" id="gnKeyword" ng-model="ingest.gnKeyword" ></input>
                    </div>

                    <div class="form-group col-md-9">
                        <label for="gnAbstractText" translate="INGEST_FORM.GN_ABASTRACT_TEXT"></label> <a 
                            tooltip='{{ "INGEST_FORM.GN_ABASTRACT_TEXT_TOOLTIP" | translate }}'><span
                            class="glyphicon glyphicon-question-sign black"></span></a>
                        <textarea class="form-control" rows="3" ng-model="ingest.gnAbstractText"
                            id="gnAbstractText"></textarea>
                    </div>

                    <div class="form-group col-md-9">
                        <label for="gnFreeText" translate="INGEST_FORM.GN_FREE_TEXT"></label> <a 
                            tooltip='{{ "INGEST_FORM.GN_FREE_TEXT_TOOLTIP" | translate }}'><span
                            class="glyphicon glyphicon-question-sign black"></span></a>
                        <textarea class="form-control" rows="3" ng-model="ingest.gnFreeText"
                            id="gnFreeText"></textarea>
                    </div>

                    <div class="clearfix"></div>
                        <div class="form-group multiselect col-md-7">
                            <label for="gnSources" translate="INGEST_FORM.GN_SOURCES"></label> <a 
                                tooltip='{{ "INGEST_FORM.GN_SOURCES_TOOLTIP" | translate }}'><span
                                class="glyphicon glyphicon-question-sign black"></span></a> 
                                <select multiple="multiple" ng-model="ingest.gnSources"
                                    id="gnSources" class="form-control" ng-options="item.id as item.name for item in gnSourcesList" 
                                    data-placeholder="'INGEST_FORM.GN_SOURCES_PLACEHOLDER' | translate" multiselect-dropdown>
                                </select>
                        </div>
                </div>
            </div>
            <div  ng-switch-when="csw" ng-animate="{enter:'animated fadeIn', leave:'animated fadeOut'}">
                <div class="form-group col-md-9">
                        <label for="cswUrl" translate="INGEST_FORM.CSW_URL"></label>
                        <input type="text" id="cswUrl" ng-model="ingest.cswUrl" class="form-control" ></input>
                </div>

                <div class="form-group multiselect col-md-7">
                    <label for="cswDataRepository" translate="INGEST_FORM.DATA_REPOSITORY"></label> <a
                        tooltip='{{ "INGEST_FORM.DATA_REPOSITORY_TOOLTIP" | translate }}'><span
                        class="glyphicon glyphicon-question-sign black"></span></a>
                    <select class="form-control" id="cswDataRepository" ng-model="ingest.cswDataRepositories"
                        multiple="multiple" ng-options="item.key as item.value for item in customRepositories[ingest.typeOfInstance]" 
                        data-placeholder="'INGEST_FORM.DATA_REPOSITORY_PLACEHOLDER' | translate" multiselect-dropdown>
                    </select>
                </div>
                <div class="clearfix"></div>

                <div class="custom-panel">
                    <div class="custom-panel-heading collapsed" data-toggle="collapse"
                        data-target="#collapseSearchCriteriaCsw">
                        <h2>
                            {{ "INGEST_FORM.CSW_SEARCH_CRITERIA" | translate }}
                            <span
                                class="glyphicon glyphicon-chevron-up pull-right black"></span>
                        </h2>
                    </div>
                    <div class="custom-panel-body collapse in" id="collapseSearchCriteriaCsw">
                        <div class="form-group col-md-9">
                            <label for="cswLocation" translate="INGEST_FORM.CSW_LOCATION"></label> <a 
                                tooltip='{{ "INGEST_FORM.CSW_LOCATION_TOOLTIP" | translate}}'><span
                                class="glyphicon glyphicon-question-sign black"></span>
                            </a>
                            <input type="text" class="form-control" id="cswLocation" ng-model="ingest.cswLocation"></input>
                        </div>
                        <div class="form-group col-md-9">
                            <label for="cswTitle" translate="INGEST_FORM.CSW_TITLE"></label> <a 
                                tooltip='{{ "INGEST_FORM.CSW_TITLE_TOOLTIP" | translate}}'><span
                                class="glyphicon glyphicon-question-sign black"></span>
                            </a>
                            <input type="text" class="form-control" id="cswTitle" ng-model="ingest.cswTitle"></input>
                        </div>

                        <div class="form-group col-md-9">
                            <label for="cswSubject" translate="INGEST_FORM.CSW_SUBJECT"></label> <a 
                                tooltip='{{ "INGEST_FORM.CSW_SUBJECT" | translate }}'><span
                                class="glyphicon glyphicon-question-sign black"></span></a>
                            <textarea class="form-control" rows="3" ng-model="ingest.cswSubject"
                                id="cswSubject"></textarea>
                        </div>
                         <div class="form-group col-md-9">
                            <label for="cswFreeText" translate="INGEST_FORM.CSW_FREE_TEXT"></label> <a 
                                tooltip='{{ "INGEST_FORM.CSW_FREE_TEXT_TOOLTIP" | translate }}'><span
                                class="glyphicon glyphicon-question-sign black"></span></a>
                            <textarea class="form-control" rows="3" ng-model="ingest.cswFreeText"
                                id="cswFreeText"></textarea>
                        </div>
                        <div class="clearfix"></div>

                        <div class="form-group">
                            <label translate="INGEST_FORM.DATE_RANGE_CONTENT"></label> <a
                                tooltip='{{ "INGEST_FORM.DATE_RANGE_CONTENT_TOOLTIP" | translate }}'><span
                                class="glyphicon glyphicon-question-sign black"></span></a>
                            <div class="row no-margin">
                                <div class='input-group date col-md-4' id='rangeFrom' ng-model="ingest.cswRangeFrom" datetimepicker>
                                    <input type="text" class="form-control" ></input>
                                    <span class="input-group-addon"><span
                                        class="glyphicon glyphicon-calendar"></span> </span>
                                </div> <span 
                                    class="col-md-1 text-center" translate="INGEST_FORM.TO"></span> <div 
                                        class='input-group date col-md-4' id='rangeTo' ng-model="ingest.cswRangeTo" datetimepicker>
                                    <input type="text" class="form-control"  ></input>
                                    <span class="input-group-addon"><span
                                        class="glyphicon glyphicon-calendar"></span></span>
                                </div>
                            </div>
                        </div>

                        <div class="form-group col-md-9">
                            <label for="cswCustomQuery" translate="INGEST_FORM.CSW_CUSTOM_QUERY"></label> <a 
                                tooltip='{{ "INGEST_FORM.CSW_CUSTOM_QUERY_TOOLTIP" | translate }}'><span
                                class="glyphicon glyphicon-question-sign black"></span></a>
                            <textarea class="form-control" rows="3" ng-model="ingest.cswCustomQuery"
                                id="cswCustomQuery"></textarea>
                        </div>
                    </div>
                </div>
            </div>
            
            <div ng-switch-when="webdav" ng-animate="{enter:'animated fadeIn', leave:'animated fadeOut'}">
                <div class="form-group col-md-9">
                    <div class="col-md-10">
                        <label for="webDavUrl" translate="INGEST_FORM.WD_URL"></label>
                        <input id="webDavUrl" ng-model="ingest.webDavUrl" 
                            class="form-control col-md-6" ></input>
                        <p class="help-block" translate="INGEST_FORM.WD_URL_HELP"></p>
                    </div>
                </div>

                <div class="form-group multiselect col-md-7">
                    <label for="webdavDataRepository" translate="INGEST_FORM.DATA_REPOSITORY"></label> <a
                        tooltip='{{ "INGEST_FORM.DATA_REPOSITORY_TOOLTIP" | translate }}'><span
                        class="glyphicon glyphicon-question-sign black"></span></a>
                    <select class="form-control" id="webdavDataRepository" ng-model="ingest.webdavDataRepositories"
                        multiple="multiple" ng-options="item.key as item.value for item in customRepositories[ingest.typeOfInstance]" 
                        data-placeholder="'INGEST_FORM.DATA_REPOSITORY_PLACEHOLDER' | translate" multiselect-dropdown>
                    </select>
                </div>
                <div class="clearfix"></div>
                <div class="custom-panel">
                    <div class="custom-panel-heading collapsed" data-toggle="collapse"
                        data-target="#collapseSearchCriteriaWebdav">
                        <h2>
                            {{ "INGEST_FORM.WD_SEARCH_CRITERIA" | translate}}
                            <span
                                class="glyphicon glyphicon-chevron-up pull-right black"></span>
                        </h2>
                    </div>
                    <div class="custom-panel-body collapse" id="collapseSearchCriteriaWebdav">
                         <div class="form-group">
                            <label translate="INGEST_FORM.WD_DATE_LAST_MODIFIED"></label> <a
                                tooltip='{{ "INGEST_FORM.WD_DATE_LAST_MODIFIED_TOOLTIP" | translate }}'><span
                                class="glyphicon glyphicon-question-sign black"></span></a>
                            <div class="row no-margin">
                                <div class='input-group date col-md-4' id='rangeFrom' ng-model="ingest.webdavFromLastModified" datetimepicker>
                                    <input type="text" class="form-control" ></input>
                                    <span class="input-group-addon"><span
                                        class="glyphicon glyphicon-calendar"></span> </span>
                                </div> <span 
                                    class="col-md-1 text-center" translate="INGEST_FORM.TO"></span> <div 
                                        class='input-group date col-md-4' id='rangeTo' ng-model="ingest.webdavToLastModified" datetimepicker>
                                    <input type="text" class="form-control"  ></input>
                                    <span class="input-group-addon"><span
                                        class="glyphicon glyphicon-calendar"></span></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="clearfix"></div>
            <div class="custom-panel last">
                    <div class="custom-panel-heading collapsed" data-toggle="collapse"
                        data-target="#requiredFieldsSolr">
                        <h2>
                            {{ "INGEST_FORM.REQUIRED_FIELDS" | translate }}
                            <a tooltip='{{ "INGEST_FORM.REQUIRED_FIELDS_TOOLTIP" | translate}}'><span
                                class="glyphicon glyphicon-question-sign black"></span></a> <span
                                class="glyphicon glyphicon-chevron-up pull-right black"></span>
                        </h2>
                    </div>
                    <div class="custom-panel-body collapse" id="requiredFieldsSolr">
                        <div class="form-group container no-left-padding">
                            <div class="col-md-4" ng-repeat="field in requiredFieldList[ingest.typeOfInstance]">
                                <div class="checkbox">
                                    <label> 
                                        <input type="checkbox" name="requiredFields" ng-model="ingest.requiredFields[field]"  ></input>
                                        {{ "INGEST_FORM.REQUIRED_FIELD_OPT_" + field | translate}}
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- //Required fields panel -->
        </div>
        <div class="form-group col-md-9">
                <button type="submit" class="btn btn-primary">
                    {{ "INGEST_FORM.SCHEDULE_INGEST_BUTTON" | translate }}
                    <span class="glyphicon glyphicon-play"></span>
                </button>
        </div>

       

    </form>

</div>
