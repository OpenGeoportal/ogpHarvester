<div class="col-md-9 right-column layer-list"
	data-ng-controller="UploadDataCtrl">

	<h2 data-translate="UPLOAD_DATA.HEADER" class="ng-scope"></h2>
	<br /> 
	<div class="custom-panel last" 
        ng-show="downloads.length">
    <div class="custom-panel-heading collapsed" data-toggle="collapse"
         data-target="#requiredFieldsSolr">
        <h2>
            {{ "UPLOAD_DATA.REQUIRED_FIELDS" | translate }}
            <a data-tooltip='{{ "UPLOAD_DATA.REQUIRED_FIELDS_TOOLTIP" | translate}}'>
            <span class="glyphicon glyphicon-question-sign black"></span>
            </a> 
            
        </h2>
    </div>
	<div class="custom-panel-body" id="requiredFieldsSolr">
		<div class="form-group container no-left-padding">
			<div class="col-md-4" ng-repeat="field in requiredFieldList">
				<div class="checkbox">
					<label> 
					<input type="checkbox" name="requiredFields" ng-model="requiredFields[field]" /> 
						{{"UPLOAD_DATA.REQUIRED_FIELD_OPT_" + field | translate}}
					</label>
				</div>
			</div>
		</div>
	</div>
</div>

<h2 ng-show="downloads.length">
            {{ "UPLOAD_DATA.FILES" | translate }}
            <a ng-show="workspaceList.length<1 && downloads.length>1" data-tooltip='{{ "UPLOAD_DATA.SUGGESTION_WRKSP" | translate}}'>
            <span class="glyphicon glyphicon-question-sign black"></span>
            </a>             
        </h2>
	<table class="table table-striped" ng-show="downloads.length">
		<thead>
			<tr>
				<th data-translate="UPLOAD_DATA.UPDATE"></th>
				<th data-translate="UPLOAD_DATA.WORKSPACE"></th>
				<th data-translate="UPLOAD_DATA.LAYER"></th>
				<th data-translate="UPLOAD_DATA.STORE"></th>
				<th data-translate="UPLOAD_DATA.SRS"></th>
				<th data-translate="UPLOAD_DATA.FILE_NAME"></th>
				<th data-translate="UPLOAD_DATA.SIZE"></th>
				<th data-translate="UPLOAD_DATA.STATUS"></th>
				<th data-translate="UPLOAD_DATA.CLEAN"></th>
			</tr>
		</thead>
		<tbody>
			<tr ng-repeat="download in downloads">
				<td><span ng-Show="download.valid"><input
						type="checkbox" ng-model="download.isnew" value="true"
						ng-readonly="download.locked" /></span></td>
				<td ng-show="workspaceList.length>0"><select
					ng-model="download.workspace" ng-Show="download.valid"
					ng-disabled="download.locked"
					ng-change="expandWorkspace(download.workspace)">
						<option ng-repeat="ws in workspaceList" value="{{ws.worksp}}">
							{{ws.worksp}}</option>
				</select></td>
				<td ng-show="workspaceList.length<1"><input type="text"
					ng-model="download.workspace" size="15" ng-Show="download.valid"
					ng-dblclick="expandWorkspace(download.workspace)"
					ng-readonly="download.locked"></td>
				<td><span ng-Show="download.valid">{{download.dataset}}</span></td>
				<td><input type="text" ng-model="download.datastore" size="12"
					ng-Show="download.valid" required ng-readonly="download.locked"></td>
				<td><input type="number" ng-model="download.srs" size="8"
					ng-Show="download.valid" ng-readonly="download.locked"></td>
				<td>{{download.fileName}}</td>
				<td>{{download.fileSize}}</td>
				<td><b style="color: {{download.statusColor">{{download.status}}</b></td>
				<td style="padding-right: 3%;"><button class="close"
						ng-click="remove(downloads, $index)" ng-Show="!download.locked">Ã—</button>
					<button class="close" ng-click="clean(downloads, $index)"
						ng-Show="download.ticket<0">-</button></td>
			</tr>
		</tbody>
	</table>
	<p ng-show="downloads.length">* Optional parameter</p>

	<form name="downloadFrm" ng-submit="uploadFiles">
	
		<fieldset>
			<button ngf-select="uploadFiles($files, $invalidFiles)" multiple
				class="btn btn-primary" data-translate="UPLOAD_DATA.ADD_FILES"></button>
			<button ng-click="sendFiles()" class="btn btn-primary"
				data-translate="UPLOAD_DATA.LOAD_TO_SERVER"
				ng-show="downloads.length"></button>
		</fieldset>

	</form>

	<br />


</div>